<!DOCTYPE html>
<html>
  <head>
    <meta charset='utf-8'>
    <meta http-equiv="X-UA-Compatible" content="chrome=1">

    <link rel="stylesheet" type="text/css" href="stylesheets/stylesheet.css" media="screen" />
    <link rel="stylesheet" type="text/css" href="stylesheets/pygment_trac.css" media="screen" />
    <link rel="stylesheet" type="text/css" href="stylesheets/print.css" media="print" />

    <title>Django-auth by triplec1988</title>
  </head>

  <body>

    <header>
      <div class="container">
        <h1>Django-auth</h1>
        <h2>This application contains examples of how to authenticate users as Django users using OAuth through Foursquare and Instagram</h2>

        <section id="downloads">
          <a href="https://github.com/triplec1988/django-auth/zipball/master" class="btn">Download as .zip</a>
          <a href="https://github.com/triplec1988/django-auth/tarball/master" class="btn">Download as .tar.gz</a>
          <a href="https://github.com/triplec1988/django-auth" class="btn btn-github"><span class="icon"></span>View on GitHub</a>
        </section>
      </div>
    </header>

    <div class="container">
      <section id="main_content">
        <h3>Welcome to django-auth.</h3>

          <p>Using OAuth to create and authenticate new users is wonderful, but it can be a pain to set everything up and make sure users are both being created, authenticated, and logged in from their third party application credentials. Django-Auth is an alternative to larger libraries like django-social and is meant to be an easy-to-understand example application for how to implement OAuth into your own Django applications for authentication and user creation. I have kept the client_id and client_secret from the apps I have registered in this example for those of you who wish to clone this repo, runserver and see how it all works. The steps I followed are listed below:</p>

          <h3>Step 1: Register Your Application</h3>

          <p>Register your application with the appropriate third party application. In this case I used Foursquare and Instagram as examples. It can really be anything that supports OAuth. Once you register your application, create variables in your settings.py file for the client_id and client_secret you will be privided. Additionally, create your redirect_uri and set that as a variable in settings along with the authentication and access_token URLs the third party application provides you.</p>

          <h3>Setp 2: Set Up urls.py</h3>

          <p>Set up your urls.py file. In each application I have a set of URLs that begins with a basic login page and runs through callback, authentication, creation ('done') and welcome. I also include URLs for logout.</p>

          <h3>Step 3: Set up views.py</h3>

          <p>Set up your views.py file to support your URLs. This file will need to import the variables you have stored in settings.py. This is also a great time to create your templates. This application only uses two: login.html and welcome.html. The views are also going to be where you create and save a user to the auth_user table of Django, as well as any additional information you'd like to store from the response JSON. I have set up models.py to extend the core Django User model to store some additional information.</p>

          <h3>Step 4: Write a Custom Authentication Backend</h3>

          <p>This is the real meat of it. When trying to create, save, and authenticate users through OAuth you need to create a custom backend. This is essentially a custom authenticate() method to authorize the new users you created. Examples of this are in backends.py in each app. You can authenticate based on whatever variables you wish, in this case I simple am authenticating based on username and password. After you create backends.py you need to add this to your AUTHENTICATION_BACKENDS in settings.py, as I have done. This will tell Django to check these backends in addition to the default (ModelBackend) when authenticating users through OAuth.</p>

          <h3>Step 5: Runserver</h3>

          <p>Test it out. After following these steps you should now be able to create users and save them to the database. You can check the sqlite3 db through the Django shell to make sure this is happening.</p>

          <h3>Usage</h3>

          <p>This example is free to use for anyone. All I ask is that if you do use some of the code or examples you try to give me credit.</p>

          <h3>Authors and Contributors</h3>

          <h4>Author:&nbsp;<a href="https://github.com/triplec1988" class="user-mention">@triplec1988</a>

          <p>If you wish to create additional apps within this project to create examples for other third party applications other than Foursquare and Instagram just fork this repo, add the app and submit a pull request. I'll be happy to add you as a contributor.</p>

      </section>
    </div>

    
  </body>
</html>
